# ğŸš€ Kripto Algoritmik Trading Bot

**RSI + Volume Strategy ile BTC/USDT ve ETH/USDT otomatik trading**

3x kaldÄ±raÃ§lÄ± Bybit Futures Ã¼zerinde Ã§alÄ±ÅŸan profesyonel algoritmik trading bot.

## ğŸ“‹ Ä°Ã§indekiler

- [Ã–zellikler](#-Ã¶zellikler)
- [Gereksinimler](#-gereksinimler)  
- [Kurulum](#-kurulum)
- [KonfigÃ¼rasyon](#-konfigÃ¼rasyon)
- [KullanÄ±m](#-kullanÄ±m)
- [Backtest](#-backtest)
- [Monitoring](#-monitoring)
- [Troubleshooting](#-troubleshooting)

## â­ Ã–zellikler

### Trading Stratejisi
- **RSI (14) < 30** + **Volume > 1.8x ortalama** â†’ LONG pozisyon
- **Take Profit: %6** | **Stop Loss: %3**
- **Trailing Stop**: %3 kar geÃ§ince +%1.5'e taÅŸÄ±
- **RSI > 60** â†’ Erken exit

### Risk YÃ¶netimi
- Her iÅŸlemde **%1 risk** (Kelly Criterion)
- **3x leverage** ile pozisyon bÃ¼yÃ¼tme
- **3 ardÄ±ÅŸÄ±k kayÄ±p** â†’ 24 saat pause
- **Likidasyon korumasÄ±** (en az %5 marj)

### Teknik Ã–zellikler
- **Bybit Futures** entegrasyonu
- **Testnet zorunlu** (14 gÃ¼n)
- **CSV log sistemi** (Telegram yok)
- **Docker support** + **Systemd service**
- **Acil kapatma** (`emergency_close.py`)

## ğŸ”§ Gereksinimler

### Sistem Gereksinimleri
```bash
# Minimum
CPU: 1 core
RAM: 512MB
Disk: 2GB
Network: Stable internet

# Ã–nerilen
CPU: 2 cores
RAM: 1GB
Disk: 5GB
```

### YazÄ±lÄ±m Gereksinimleri
- **Python 3.11+**
- **TA-Lib** (technical analysis)
- **Docker** (opsiyonel)
- **Git**

## ğŸš€ Kurulum

### 1. Repository Clone
```bash
git clone https://github.com/ugurhss/3x-trading-bot.git
cd 
```

### 2. Python Virtual Environment
```bash
# Virtual environment oluÅŸtur
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

# Dependencies yÃ¼kle
pip install -r requirements.txt
```

### 3. TA-Lib Kurulumu

**Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install build-essential wget

# TA-Lib compile
wget http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz
tar -xzf ta-lib-0.4.0-src.tar.gz
cd ta-lib/
./configure --prefix=/usr
make
sudo make install
cd ..
pip install TA-Lib
```

**MacOS:**
```bash
brew install ta-lib
pip install TA-Lib
```

**Windows:**
```bash
# Pre-compiled wheel download
pip install https://download.lfd.uci.edu/pythonlibs/archived/TA_Lib-0.4.28-cp311-cp311-win_amd64.whl
```

### 4. Directory Structure OluÅŸtur
```bash
mkdir -p logs data
touch logs/trades.csv
```

## âš™ï¸ KonfigÃ¼rasyon

### 1. API Keys (Bybit)

1. [Bybit Testnet](https://testnet.bybit.com) hesabÄ± oluÅŸtur
2. **API Management** â†’ **Create API Key**
3. Ä°zinler:
   - âœ… **Derivatives - Trade**
   - âœ… **Derivatives - Read**
   - âŒ **Spot Trading** (kapalÄ±)
   - âŒ **Wallet** (kapalÄ±)

### 2. Environment Variables
```bash
# .env dosyasÄ± oluÅŸtur
cp .env.example .env

# .env dosyasÄ±nÄ± dÃ¼zenle
nano .env
```

**.env iÃ§eriÄŸi:**
```bash
# Bybit API
BYBIT_API_KEY=your_testnet_api_key
BYBIT_API_SECRET=your_testnet_api_secret

# Bot Config
TESTNET=true
SYMBOLS=BTC/USDT:USDT,ETH/USDT:USDT
LEVERAGE=3
RISK_PER_TRADE=0.01

# Strategy
RSI_OVERSOLD=30
RSI_OVERBOUGHT=60
VOLUME_MULTIPLIER=1.8
TAKE_PROFIT=0.06
STOP_LOSS=0.03
```

### 3. Log Directory Permissions
```bash
chmod 755 logs/
chmod 644 logs/*.csv
```

## ğŸ¯ KullanÄ±m

### Manuel Ã‡alÄ±ÅŸtÄ±rma
```bash
# Bot'u baÅŸlat
python bot.py

# Arka planda Ã§alÄ±ÅŸtÄ±r
nohup python bot.py > logs/console.log 2>&1 &
```

### Docker ile Ã‡alÄ±ÅŸtÄ±rma
```bash
# Image build
docker build -t crypto-trading-bot .

# Container Ã§alÄ±ÅŸtÄ±r
docker run -d \
  --name crypto-bot \
  --restart unless-stopped \
  -v $(pwd)/logs:/app/logs \
  -v $(pwd)/.env:/app/.env \
  crypto-trading-bot

# Logs izle
docker logs -f crypto-bot
```

### Docker Compose
```bash
# Servis baÅŸlat
docker-compose up -d

# Logs izle
docker-compose logs -f crypto-bot

# Servis durdur
docker-compose down
```

### Systemd Service (Production)
```bash
# Service dosyasÄ±nÄ± kopyala
sudo cp crypto-bot.service /etc/systemd/system/

# Service'i etkinleÅŸtir
sudo systemctl daemon-reload
sudo systemctl enable crypto-bot
sudo systemctl start crypto-bot

# Status kontrolÃ¼
sudo systemctl status crypto-bot

# Logs
sudo journalctl -u crypto-bot -f
```

## ğŸ“Š Backtest

### Backtest Ã‡alÄ±ÅŸtÄ±rma
```bash
# Full backtest (2023-2024)
python backtest.py

# Custom date range
python backtest.py --start 2023-06-01 --end 2024-01-01
```

### Backtest SonuÃ§larÄ±
```bash
# Results directory
ls -la logs/
  - backtest_results.csv    # DetaylÄ± trade verileri
  - backtest_summary.json   # Ã–zet istatistikler

# BaÅŸarÄ± kriterleri
âœ… Win Rate â‰¥ 55%
âœ… Max Drawdown â‰¤ 20%  
âœ… Min 100 Trades
âœ… Profit Factor â‰¥ 1.3
âœ… Positive Return
```

### Backtest Analizi
```python
import pandas as pd
import json

# Trade results
df = pd.read_csv('logs/backtest_results.csv')
print(f"Total trades: {len(df)}")
print(f"Win rate: {len(df[df['pnl_usdt'] > 0]) / len(df):.1%}")

# Summary stats  
with open('logs/backtest_summary.json') as f:
    stats = json.load(f)
    print(f"Sharpe ratio: {stats['sharpe_ratio']}")
    print(f"Max drawdown: {stats['max_drawdown']:.1%}")
```

## ğŸ” Monitoring

### Log Monitoring
```bash
# Real-time trade log
tail -f logs/trades.csv

# System logs
tail -f logs/system.log

# Bot status
grep "Status:" logs/system.log | tail -5
```

### Performance Tracking
```bash
# Daily PnL
python -c "
import pandas as pd
df = pd.read_csv('logs/trades.csv')
df['date'] = pd.to_datetime(df['timestamp']).dt.date
daily = df.groupby('date')['pnl_usdt'].sum()
print(daily.tail(7))
"

# Win rate
python -c "
import pandas as pd
df = pd.read_csv('logs/trades.csv')
wins = len(df[df['pnl_usdt'] > 0])
total = len(df)
print(f'Win rate: {wins/total:.1%} ({wins}/{total})')
"
```

### Position Status
```bash
# Current positions
python emergency_close.py status

# Account balance
python emergency_close.py balance
```

## ğŸš¨ Acil MÃ¼dahale

### TÃ¼m PozisyonlarÄ± Kapat
```bash
# GÃ¼venli kapatma (onay ister)
python emergency_close.py close

# Force kapatma (onaysÄ±z)
python emergency_close.py force

# Sadece status kontrol
python emergency_close.py status
```

### Bot Durdurma
```bash
# Graceful shutdown
pkill -TERM -f bot.py

# Force kill
pkill -KILL -f bot.py

# Docker stop
docker stop crypto-bot

# Systemd stop
sudo systemctl stop crypto-bot
```

## âš ï¸ Troubleshooting

### YaygÄ±n Hatalar

**1. API Connection Error**
```bash
âŒ Exchange connection failed: Invalid API key

# Ã‡Ã¶zÃ¼m:
- .env dosyasÄ±nda API key/secret kontrol et
- Bybit testnet'te API key aktif mi kontrol et
- IP whitelist ayarlarÄ± kontrol et
```

**2. TA-Lib Import Error**
```bash
âŒ ImportError: No module named 'talib'

# Ã‡Ã¶zÃ¼m:
sudo apt-get install build-essential
wget http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz
# ... TA-Lib manual install
pip install TA-Lib
```

**3. Insufficient Balance**
```bash
âŒ Insufficient balance for trade

# Ã‡Ã¶zÃ¼m:
- Bybit testnet'te test coin al
- Risk per trade azalt (0.005)
- Position size kontrol et
```

**4. Rate Limit Exceeded**
```bash
âŒ Rate limit exceeded

# Ã‡Ã¶zÃ¼m:
- Bot'ta enableRateLimit=True kontrol et
- API call sÄ±klÄ±ÄŸÄ±nÄ± azalt
- Multiple API key kullan
```

### Log Analizi
```bash
# Error logs
grep "ERROR" logs/system.log | tail -10

# API errors
grep "API" logs/system.log | grep -i error

# Trading errors
grep "Failed to open" logs/system.log

# Performance issues
grep "slow" logs/system.log
```

### Performans Optimizasyonu
```bash
# Memory usage
ps aux | grep python

# CPU usage
top -p $(pgrep -f bot.py)

# Network monitoring
netstat -an | grep 8443  # Bybit port

# Log rotation
logrotate -f /etc/logrotate.d/crypto-bot
```

## ğŸ“ˆ CanlÄ± GeÃ§iÅŸ PlanÄ±

### Faz 1: Testnet Validation (14 gÃ¼n)
1. **Bot'u testnet'te Ã§alÄ±ÅŸtÄ±r**
2. **Minimum 10 iÅŸlem** yap
3. **%55+ win rate** hedefle
4. **<%15 drawdown** koru
5. **Log analizi** yap

### Faz 2: DÃ¼ÅŸÃ¼k Sermaye ($50)
1. **Mainnet API** oluÅŸtur (withdraw kapalÄ±)
2. **50$ ile baÅŸla**
3. **1 ay test** et
4. **%10+ kÃ¢r** â†’ sermaye artÄ±r

### Faz 3: Ã–lÃ§eklendirme
```python
# AylÄ±k performansa gÃ¶re
if monthly_return > 0.15:
    new_capital *= 1.5
elif monthly_return > 0.08:
    new_capital *= 1.2
```

## ğŸ“ Destek

### Community
- **GitHub Issues**: Bug report ve feature request
- **Discord**: Real-time chat ve destek
- **Telegram**: GÃ¼ncellemeler ve duyurular

### GeliÅŸtirici
- **Email**: your.email@example.com
- **LinkedIn**: linkedin.com/in/yourprofile
- **Twitter**: @yourtwitterhandle

## âš–ï¸ Yasal UyarÄ±

```
âš ï¸ RÄ°SK UYARISI:
Bu bot yÃ¼ksek riskli algoritmik trading yapar.
- Sermayenizin %100'Ã¼nÃ¼ kaybetme riski vardÄ±r
- 3x kaldÄ±raÃ§ riski 3 kat artÄ±rÄ±r
- Sadece kaybetmeye gÃ¶zÃ¼nÃ¼z yumduÄŸunuz parayi kullanÄ±n
- Psikolojik disiplin Ã§ok Ã¶nemlidir
- Botu kurup unutun, mÃ¼dahale etmeyin
- LoglarÄ± haftalÄ±k inceleyin
```

## ğŸ“„ Lisans

MIT License - Ticari kullanÄ±m serbesttir.

---

Ã¼